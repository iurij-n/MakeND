<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MakeND</title>
    <script src="eel.js"></script>
    <script src="jquery-3.6.0.min.js" ></script>
    <link rel="icon" type="image/ico" href="favicon.ico">
</head>
<body>
    <p>Текст абзаца 1</p>
    <div align="center" class="content">
		<img src="favicon.ico" alt="icon" class="logo">
		<h2>Какой то заголовок</h2>
		<input type="text" id="chat_id" placeholder="Chat ID"><br>
		<textarea type="text" id="message" placeholder="Сообщение"></textarea><br>
        <select id="select_list" size="5" multiple name="hero[]">
            <option disabled>Выберите героя</option>
            <option selected value="Чебурашка">Чебурашка</option>
            <option selected value="Крокодил Гена">Крокодил Гена</option>
            <option value="Шапокляк">Шапокляк</option>
            <option value="Крыса Лариса">Крыса Лариса</option>
           </select><br>
        <form>
            <p>
                <label for="date">Дата рождения:</label>
                <input type="date" id="date" name="date"/>
            </p>
        </form>
        <button id="send_msg">Отправить сообщение</button>
		<p id="result"></p>
	</div>


<script type="text/javascript">
    async function send_msg(){
        let chat_id = document.getElementById('chat_id').value;
        let message = document.getElementById('message').value;
        let select_list = document.getElementById('select_list').options;
        let selected_date = document.getElementById('date');
        selected_date.addEventListener('change', function(){});
        
        let selected_values_list = []

        for (let element of select_list) {
            if(element.selected == true) {
                selected_values_list.push(element.value);
            }
        }

        let result = await eel.foo(chat_id, message, selected_values_list, selected_date.value)();
        
        document.getElementById('result').innerHTML = result;

        document.getElementById('message').value = '';
    }

    $('#send_msg').click(function(){
        send_msg();
    })
</script>
    
</body>
</html>